<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Teacher - Manage Courses</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h1>Your Courses</h1>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>ID</th>
            <th>Course Name</th>
            <th>Schedule</th>
            <th>Code</th>
        </tr>
        </thead>
        <tbody>
        {% for course in courses %}
        <tr>
            <td>{{ course.id }}</td>
            <td>{{ course.name }}</td>
            <td class="course-schedule">
                {% if course.course_schedule %}
                    {% for schedule in course.course_schedule %}
                        <div>
                            <span class="schedule-day">{{ schedule.day_of_week }}:</span>
                            <span class="schedule-time">{{ schedule.start_time }} - {{ schedule.end_time }}</span>
                        </div>
                    {% endfor %}
                {% else %}
                    <span class="text-muted">No schedule available</span>
                {% endif %}
            </td>
            <td>{{ course.code }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <h2>Assign Grades</h2>
    <form method="POST">
        <div class="form-group">
            <label for="course_id">Course</label>
            <select name="course_id" class="form-control">
                {% for course in courses %}
                    <option value="{{ course.id }}">{{ course.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="user_id">Student</label>
            <select name="user_id" class="form-control">
                {% for course in courses %}
                    {% for user in students %}
                        <option value="{{ user.id }}">{{ user.first_name }} {{ user.last_name }}</option>
                    {% endfor %}
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="grade">Grade</label>
            <input type="text" name="grade" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Submit Grade</button>
    </form>
</div>
<a href="{{ url_for('teacher_page') }}" class="btn btn-success mb-3">Return</a>
</body>
</html>